/*
 FusionCharts JavaScript Library - Tree Map Chart
 Copyright FusionCharts Technologies LLP
 License Information at <http://www.fusioncharts.com/license>

 @version 3.10.0
*/
FusionCharts.register("module",["private","modules.renderer.js-treemap",function(){function H(b){return b?b.replace(/^#*/,"#"):"#E5E5E5"}function n(b,h){this.label=b;this.value=parseFloat(h,10);this.prev=this.next=void 0;this.meta={}}function G(){this._b=[];this._css=void 0;this.rangeOurEffectApplyFn=function(){};this.statePointerLow={value:void 0,index:void 0};this.statePointerHigh={value:void 0,index:void 0}}var t=this.hcLib,M=t.extend2,O=t.chartAPI,T=t.Raphael,P=t.chartAPI,I=t.graphics,L=I.convertColor,
Q=I.getLightColor,z=this.raiseEvent,U=t.colorRange,J,F,x=t.pluckNumber,u=t.pluck,I=!/fusioncharts\.com$/i.test(this.window.location.hostname);T.addSymbol({backIcon:function(b,h,a){--a;var c=h+a,f=c-a/2,g=b+a,e=f-a;return["M",b,h-a,"L",b-a,h,b,c,b,f,g,f,g,e,g-a,e,"Z"]},homeIcon:function(b,h,a){--a;var c=2*a,f=b-a,g=f+c/6,e=h+a,d=g+c/4,w=e-a/2,m=d+c/6,B=w+a/2,k=m+c/4,l=B-a;return["M",b,h-a,"L",f,h,g,h,g,e,d,e,d,w,m,w,m,B,k,B,k,l,k+c/6,l,"Z"]}});Array.prototype.indexOf||(Array.prototype.indexOf=function(b,
h){var a;if(null==this)throw new TypeError('"this" is null or not defined');var c=Object(this),f=c.length>>>0;if(0===f)return-1;a=+h||0;Infinity===Math.abs(a)&&(a=0);if(a>=f)return-1;for(a=Math.max(0<=a?a:f-Math.abs(a),0);a<f;){if(a in c&&c[a]===b)return a;a++}return-1});"function"!=typeof Object.create&&(Object.create=function(){function b(){}var h=Object.prototype.hasOwnProperty;return function(a){var c,f,g;if("object"!=typeof a)throw TypeError("Object prototype may only be an Object or null");
b.prototype=a;c=new b;b.prototype=null;if(1<arguments.length)for(g in f=Object(arguments[1]),f)h.call(f,g)&&(c[g]=f[g]);return c}}());Function.prototype.bind||(Function.prototype.bind=function(b){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var h=Array.prototype.slice.call(arguments,1),a=this,c=function(){},f=function(){return a.apply(this instanceof c?this:b,h.concat(Array.prototype.slice.call(arguments)))};this.prototype&&
(c.prototype=this.prototype);f.prototype=new c;return f});n.prototype.constructor=n;n.prototype.addChild=function(b){b instanceof n&&(this.next=this.next||[],[].push.call(this.next,b),b.setParent(this));return this.next};n.prototype.getChildren=function(){return this.next};n.prototype.setParent=function(b){b instanceof n&&(this.prev=b);return this};n.prototype.getSiblingCount=function(){var b;if(this instanceof n&&(b=this.getParent()))return b.getChildren().length};n.prototype.getParent=function(){return this.prev};
n.prototype.getLabel=function(){return this.label};n.prototype.getValue=function(){return this.value};n.prototype.getSibling=function(b){b=b.toLowerCase();var h=this.getParent(),a=this.getLabel(),c,f;if(h)for(h=h.getChildren(),c=0;c<h.length;c++)if(f=h[c],f=f.getLabel(),f===a)switch(b){case "left":return h[c-1];case "right":return h[c+1]}};n.prototype.setMeta=function(b,h){this.meta[b]=h};n.prototype.getMeta=function(b){return b?this.meta[b]:this.meta};G.prototype.constructor=G;G.prototype.setRangeOutEffect=
function(b,h){this._css=b;this.rangeOurEffectApplyFn=h};G.prototype.addInBucket=function(b){var h=this._b,a=b.getValue(),c=0,f=h.length-1;a:{for(var g,e;c<=f;)if(g=(c+f)/2|0,e=h[g],e=e.getValue(),e<a)c=g+1;else if(e>a)f=g-1;else{a=g;break a}a=~f}h.splice(Math.abs(a),0,b)};G.prototype.moveLowerShadePointer=function(b){var h=this._b,a,c,f,g=this.statePointerLow;a=g.index;c=g.value;var e=!1;a=void 0!==a?a:0;c=void 0!==c?c:Number.NEGATIVE_INFINITY;if(b!==c){if(c<=b){for(;;){f=(c=h[a++])?c.getValue():
0;if(b<f||!c)break;e=!0;c.rangeOutEffect=this._css;this.rangeOurEffectApplyFn.call(c,this._css)}a=e?a-2:a-1}else{for(;;){f=(c=h[a--])?c.getValue():0;if(b>=f||!c)break;c.cssConf=c.cssConf||{};e=!0;delete c.rangeOutEffect;c.cssConf.opacity=1;this.rangeOurEffectApplyFn.call(c,c.cssConf)}a=e?a+2:a+1}g.index=a;g.value=b}};G.prototype.moveHigherShadePointer=function(b){var h=this._b,a=h.length,c,f,g=this.statePointerHigh;f=g.index;c=g.value;var e=!1,a=void 0!==f?f:a-1;c=void 0!==c?c:Number.POSITIVE_INFINITY;
if(b!==c){if(c>b){for(;;){f=(c=h[a--])?c.getValue():0;if(b>=f||!c)break;e=!0;c.rangeOutEffect=this._css;this.rangeOurEffectApplyFn.call(c,this._css)}a=e?a+2:a+1}else{for(;;){f=(c=h[a++])?c.getValue():0;if(b<f||!c)break;c.cssConf=c.cssConf||{};e=!0;delete c.rangeOutEffect;c.cssConf.opacity=1;this.rangeOurEffectApplyFn.call(c,c.cssConf)}a=e?a-2:a-1}g.index=a;g.value=b}};O("treemap",{friendlyName:"Tree Map Chart",rendererId:"treemap",standaloneInit:!0,defaultSeriesType:"treemap",creditLabel:I,series:function(b,
h){var a=b&&b.data||[],c=h.chart,f={data:a},g={},e=this.dataObj.chart,d=this.hcJSON.chart;a&&a.length&&(h.series.push(f),c.metaTreeInf=g,this.hcJSON.legend.enabled=!1,a=this.dataObj.chart.algorithm||"sliceanddice",d.algorithm=a.toLowerCase(),d.horizontalPadding=x(e.horizontalpadding,5),d.horizontalPadding=0>d.horizontalPadding?0:d.horizontalPadding,d.verticalPadding=x(e.verticalpadding,5),d.verticalPadding=0>d.verticalPadding?0:d.verticalPadding,d.showParent=x(e.showparent,1),d.highlightParentsOnHover=
x(e.highlightparentsonhover,0),d.defaultParentBGColor=u(e.defaultparentbgcolor,void 0),d.baseFontSize=x(e.basefontsize,10),d.baseFontSize=1>d.baseFontSize?1:d.baseFontSize,d.labelFontSize=x(e.labelfontsize,void 0),d.labelFontSize=1>d.labelFontSize?1:d.labelFontSize,d.baseFont=u(e.basefont,"Verdana, Sans"),d.labelFont=u(e.labelfont,void 0),d.baseFontColor=u(e.basefontcolor,"#000000").replace(/^#?([a-f0-9]+)/ig,"#$1"),d.labelFontColor=u(e.labelfontcolor,void 0),d.labelFontColor&&(d.labelFontColor=d.labelFontColor.replace(/^#?([a-f0-9]+)/ig,
"#$1")),d.labelFontBold=x(e.labelfontbold,0),d.labelFontItalic=x(e.labelfontitalic,0),d.plotBorderThickness=x(e.plotborderthickness,1),d.plotBorderThickness=0>d.plotBorderThickness?0:5<d.plotBorderThickness?5:d.plotBorderThickness,d.plotBorderColor=u(e.plotbordercolor,"#000000").replace(/^#?([a-f0-9]+)/ig,"#$1"),d.tooltipSeparationCharacter=u(e.tooltipsepchar,","),d.parentLabelLineHeight=x(e.parentlabellineheight,12),d.parentLabelLineHeight=0>d.parentLabelLineHeight?0:d.parentLabelLineHeight,d.labelGlow=
x(e.labelglow,1),d.labelGlowIntensity=x(e.labelglowintensity,100)/100,d.labelGlowIntensity=0>d.labelGlowIntensity?0:1<d.labelGlowIntensity?1:d.labelGlowIntensity,d.labelGlowColor=u(e.labelglowcolor,"#ffffff").replace(/^#?([a-f0-9]+)/ig,"#$1"),d.labelGlowRadius=x(e.labelglowradius,2),d.labelGlowRadius=0>d.labelGlowRadius?0:10<d.labelGlowRadius?10:d.labelGlowRadius,a=x(e.showlegend,1),d.btnResetChartTooltext=u(e.btnresetcharttooltext,"Back to Top"),d.btnBackChartTooltext=u(e.btnbackcharttooltext,"Back to Parent"),
d.rangeOutBgColor=u(e.rangeoutbgcolor,"#808080").replace(/^#?([a-f0-9]+)/ig,"#$1"),d.rangeOutBgAlpha=x(e.rangeoutbgalpha,100),d.rangeOutBgAlpha=1>d.rangeOutBgAlpha||100<d.rangeOutBgAlpha?100:d.rangeOutBgAlpha,e=b.colorrange||{},d=x(e.mapbycategory,0),h.colorRange=new U({colorRange:e,mapByCategory:d,numberFormatter:this.numberFormatter}),h.colorRange.rangeOutsideColor=e.rangeoutsidecolor,h.legend.type="gradient",h.legend.enabled=!!a)},placeLegendBlockRight:function(){return"gradient"===arguments[0].legend.type?
t.placeGLegendBlockRight?t.placeGLegendBlockRight.apply(this,arguments):0:t.placeLegendBlockRight.apply(this,arguments)},placeLegendBlockBottom:function(){return"gradient"===arguments[0].legend.type?t.placeGLegendBlockBottom?t.placeGLegendBlockBottom.apply(this,arguments):0:t.placeLegendBlockBottom.apply(this,arguments)}},O.singleseries);F=function(){function b(a,c){this.node=a;this.bucket=c?new G:void 0}var h;b.prototype.get=function(){var a=this.order,c=this.bucket;return function g(b){var d,w,
m;m=["label","value","data"];var B;if(b)for(B in d=new n(b.label,b.value),w=b.data||[],0===w.length&&c&&c.addInBucket(d),b)-1===m.indexOf(B)&&d.setMeta(B,b[B]);a&&(w=a(w));for(b=0;b<w.length;b++)m=w[b],m=g(m),d.addChild(m);return d}(this.node)};b.prototype.getBucket=function(){return this.bucket};h=function(){function a(){this.con={}}var c={},b;a.prototype.constructor=a;a.prototype.get=function(a){return this.con[a]};a.prototype.set=function(a,c){this.con[a]=c};return{getInstance:function(g){var e;
return(e=c[g])?b=e:b=c[g]=new a}}}();return{AbstractTreeMaker:b,iterator:function(a){function c(a){this.iterAPI=a}var b;c.prototype.constructor=c;c.prototype.initWith=function(a){return this.iterAPI(a)};b=(new c(function(a){var c=a,b=[],f=!1;b.push(c);return{next:function(){var a,c,k;if(!f)return c=b.shift(),(k=(a=c.getChildren())&&a.length||0)&&[].unshift.apply(b,a),0===b.length&&(f=!0),c},reset:function(){f=!1;c=a;b.length=0;b.push(c)}}})).initWith(a);a=(new c(function(a){var c=a,b=[],f=[],m=!1;
b.push(c);f.push(c);return{next:function(){var a,c,f;if(!m)return c=b.shift(),(f=(a=c.getChildren())&&a.length||0)&&[].push.apply(b,a),0===b.length&&(m=!0),c},nextBatch:function(){var a,c;if(!m)return a=f.shift(),(c=(a=a.getChildren())&&a.length||0)&&[].push.apply(f,a),0===b.length&&(m=!0),a},reset:function(){m=!1;c=a;b.length=0;b.push(c)}}})).initWith(a);return{df:b,bf:a}},initConfigurationForlabel:function(a,c,b){var g=a.x,e=a.y,d=c/2,h=b.showParent?0:1;return function(a,B){var k=!1,l={x:void 0,
y:void 0,width:void 0,height:void 0},q={},C=0,D={},A={},E,p;p=a.meta;if(a)return a.next||(k=!0),q.label=a.getLabel(),l.width=B.width-2*g,l.x=B.x+B.width/2,D=B.height-2*e,!k&&D<c&&(l.height=-1),k?(l.height=l.height?l.height:B.height-2*e,l.y=B.y+B.height/2):h?(l.y=-1,c=e=0,E="hidden"):(l.height=l.height?l.height:c,l.y=B.y+e+d),C+=2*e,C+=c,q.rectShiftY=C,q.textRect=l,b.labelGlow?(A["stroke-width"]=b.labelGlowRadius,A.opacity=b.labelGlowIntensity,A.stroke=b.labelGlowColor,A.visibility="hidden"===E?"hidden":
"visible"):A.visibility="hidden",D={fontSize:b.labelFontSize||b.baseFontSize,fontFamily:b.labelFont||b.baseFont,fill:p&&p.fontcolor&&H(p.fontcolor)||b.labelFontColor||b.baseFontColor,fontWeight:b.labelFontBold&&"bold",fontStyle:b.labelFontItalic&&"italic",visibility:E},{conf:q,attr:D,highlight:A}}},context:h,mapColorManager:function(a,b){var f=a.defaultParentBGColor,f=H(f);return function(g){var e={},d=g.meta,d=d.fillcolor?H(d.fillcolor):void 0;e.fill=g.next?d||f:d||b.getColorObj(g.getValue()).code&&
"#"+b.getColorObj(g.getValue()).code||H(b.rangeOutsideColor);e.stroke=a.plotBorderColor;e.strokeWidth=a.plotBorderThickness;return e}},abstractEventRegisterer:function(a){var b=a[1],f=b.logic,g=b.logic.chartInstance,e=f.hcJSON.legend,d=f.hcJSON.chart,h=a[0].drawTree,m=a[3].removeLayers;b.backToParent=function(f){var k=this,e=k&&k.getParent();f?z("beforedrillup",{node:k,withoutHead:!d.showParent},g,void 0,function(){e&&(m(),h.apply(e,a));z("drillup",{node:k,sender:b.fusionCharts,withoutHead:!d.showParent,
drillUp:b.backToParent,drillUpToTop:b.resetTree},g);k=k&&k.getParent()},function(){z("drillupcancelled",{node:k,withoutHead:!d.showParent},g)}):(e&&(m(),h.apply(e,a)),k=k&&k.getParent())};b.resetTree=function(f){for(var e=this,l=e&&e.getParent(),q;l;)q=l,l=l.getParent();f?z("beforedrillup",{node:e,withoutHead:!d.showParent},g,void 0,function(){q&&(m(),h.apply(q,a),z("drillup",{node:e,sender:b.fusionCharts,withoutHead:!d.showParent,drillUp:b.backToParent,drillUpToTop:b.resetTree},g))},function(){z("drillupcancelled",
{node:e,withoutHead:!d.showParent},g)}):q&&(m(),h.apply(q,a))};return function(f,k){var l=f.virginNode,q,C,D;if(C=l.getParent()){if(l===k)D=C,q="drillup";else{if(l.next)D=l;else if(D=C,k===D){q=void 0;return}q="drilldown"}e.enabled&&t.rendererRoot.resetLegendSlider();q&&z("before"+q,{node:D,withoutHead:!d.showParent},g,void 0,function(){m();h.apply(D,a);z(q,{node:D,sender:b.fusionCharts,withoutHead:!d.showParent,drillUp:b.backToParent,drillUpToTop:b.resetTree},g)},function(){z(q+"cancelled",{node:D,
withoutHead:!d.showParent},g)});b.backToParent=b.backToParent.bind(D);b.resetTree=b.resetTree.bind(D)}}}}}();J=function(){function b(){c.apply(this,arguments)}function h(){var b=a[f],c;c=Array.prototype.slice.call(arguments,0);c.unshift(b);b.drawTree.apply(e,c)}var a,c=F.AbstractTreeMaker,f,g,e,d;a={sliceanddice:{orderNodes:function(){return this.sort(function(b,a){return parseFloat(b.value,10)<parseFloat(a.value,10)?1:-1})},areaBaseCalculator:function(b,a){return function(c,d,e){var f,h,g={},A,E,
p,r=f=0;if(c){e&&(f=e.textMargin||f);r=f;e=c.getParent();f=c.getSibling("left");if(e){h=e.getValue();p=e.rect;A=p.height-2*a-r;E=p.width-2*b;g.effectiveRect={height:A,width:E,x:p.x+b,y:p.y+a+r};g.effectiveArea=A*E;g.ratio=c.getValue()/h;if(f)return d.call(c,g,f,e);g.lastIsParent=!0;return d.call(c,g,e)}return null}}},applyShadeFiltering:function(b,a){var c=this;c.setRangeOutEffect(b,a);return function(b){c.moveLowerShadePointer(b.start);c.moveHigherShadePointer(b.end)}},drawTree:function(b,a,c,d){var e=
arguments,f=a.logic,g=d.drawRect,h=d.drawText,A=d.drawHot,E=c.horizontalPadding,p=c.verticalPadding,r=a.smartLabel,t=F.iterator,R=t(this).df,v,x=b.areaBaseCalculator(E,p),y=a.logic.hcJSON.chart,n=y.highlightParentsOnHover,u,z,S=F.context,N=F.mapColorManager(y,f.hcJSON.colorRange),V=F.abstractEventRegisterer(e),f=f.chartInstance.jsVars._reflowData;u=F.initConfigurationForlabel({x:5,y:5},y.parentLabelLineHeight,y);for(e=v=R.next();e.getParent();)e=e.getParent();e!=v?(a.resetButton.show(),a.backButton.show()):
(a.resetButton.hide(),a.backButton.hide());r.setStyle({fontSize:(y.labelFontSize||y.baseFontSize)+"px",fontFamily:y.labelFont||y.baseFont,lineHeight:1.2*(y.labelFontSize||y.baseFontSize)+"px"});f.tree=v;a.backToParent=a.backToParent.bind(v);a.resetTree=a.resetTree.bind(v);(function W(a,b){var c,d,e,f,m;d={};var k,l={},q={};e={};a&&(c=a.rect={},e=a.textRect={},c.width=b.width,c.height=b.height,c.x=b.x,c.y=b.y,e=N(a),k=g(c,e),a.cssConf=e,f=u(a,c),m=f.conf,d.textMargin=m.rectShiftY,e=m.textRect,m=r.getSmartText(m.label,
e.width,e.height).text,h(m,e,f.attr,f.highlight),a.plotItem=k,l.virginNode=a,l.plotItem=k,l.toolText=a.getLabel()+y.tooltipSeparationCharacter+a.getValue(),l.rect=c,q.hover=[function(){var a,b,c;c=S.getInstance("hover");b=this.virginNode;a=n&&!b.next?(a=b.getParent())?a:b:this.virginNode;c.set("element",a);c=L(Q(a.cssConf.fill,80),60);a.plotItem.tracker.attr({fill:c})}.bind(l),function(){var a,b;a=S.getInstance("hover").get("element");b=L(a.cssConf.fill||"#fff",0);a.plotItem.tracker.attr({fill:b})}.bind(l)],
q.tooltip=[l.toolText],q.click=[function(){V(this,v)}.bind(l)],A(l,q),c=R.next(),d=x(c,function(a,b){var c=a.effectiveArea*a.ratio,e=a.effectiveRect,d=b.rect,f,m,g;a.lastIsParent?(m=e.x,g=e.y,f=e.height,e=e.width,z=this.isDirectionVertical=!0):(f=e.height+e.y-(d.height+d.y),e=e.width+e.x-(d.width+d.x),z=this.isDirectionVertical=!b.isDirectionVertical);z?(e=c/f,m=void 0!==m?m:d.x,g=void 0!==g?g:d.y+d.height):(f=c/e,m=void 0!==m?m:d.x+d.width,g=void 0!==g?g:d.y);return{height:f,width:e,x:m,y:g}},d),
W(c,d))})(v,c)}},squarified:{orderNodes:function(){return this.sort(function(a,b){return parseFloat(a.value,10)<parseFloat(b.value,10)?1:-1})},areaBaseCalculator:function(a,b){return function(c,e,d){var f={},g,h=g=0,A,E;if(c&&0!==c.length)return d&&(g=d.textMargin||g),h=g,A=c[0],(c=A.getParent())?(E=c.rect,d=E.height-2*b-h,g=E.width-2*a,f.effectiveRect={height:d,width:g,x:E.x+a,y:E.y+b+h},f.effectiveArea=d*g,e.call(A,f,c)):null}},layoutManager:function(){function a(b,c){this.totalValue=c;this._rHeight=
b.height;this._rWidth=b.width;this._rx=b.x;this._ry=b.y;this._rTotalArea=b.height*b.width;this.nodes=[];this._prevAR=void 0;this._rHeight<this._rWidth&&(this._hSegmented=!0)}a.prototype.constructor=a;a.prototype.addNode=function(a){var b=this._rTotalArea,c,e,d,f,g,h,w,p=this._hSegmented,r=this._rx,t=this._ry,x,v,n,y,u=0;this.nodes.push(a);d=0;for(e=this.nodes.length;d<e;d++)u+=parseFloat(this.nodes[d].getValue(),10);c=u/this.totalValue*b;p?(b=this._rHeight,e=c/b,x=r+e,v=t,n=this._rHeight,y=this._rWidth-
e):(e=this._rWidth,b=c/e,x=r,v=t+b,n=this._rHeight-b,y=this._rWidth);d=0;for(f=this.nodes.length;d<f;d++)a=this.nodes[d],g=a.getValue(),h=g/u*c,a.hRect=a.rect||{},a._hRect=a._rect||{},g=a.rect={},p?(g.width=w=e,g.height=w=h/w,g.x=r,g.y=t,t+=w):(g.height=w=b,g.width=w=h/w,g.x=r,g.y=t,r+=w),h=Math.max(g.height,g.width),g=Math.min(g.height,g.width),a.aspectRatio=h/g;if(1<this.nodes.length){if(this.prevAR<a.aspectRatio){this.nodes.pop().rect={};d=0;for(e=this.nodes.length;d<e;d++)this.nodes[d].rect=1===
e&&this.nodes[d].firstPassed?this.nodes[d]._hRect:this.nodes[d].hRect,p=this.nodes[d]._rect={},r=this.nodes[d].rect,p.width=r.width,p.height=r.height,p.x=r.x,p.y=r.y;return!1}}else a&&(p=a._rect={},r=a.rect,p.width=r.width,p.height=r.height,p.x=r.x,p.y=r.y,a.firstPassed=!0);this.prevAR=a.aspectRatio;this.height=b;this.width=e;this.getNextLogicalDivision=function(){return{height:n,width:y,x:x,y:v}};return a};return{RowLayout:a}}(),applyShadeFiltering:function(a,b){var c=this;c.setRangeOutEffect(a,
b);return function(a){c.moveLowerShadePointer(a.start);c.moveHigherShadePointer(a.end)}},drawTree:function(a,b,c,d){var e=arguments,f=b.logic,g=a.areaBaseCalculator(c.horizontalPadding,c.verticalPadding),h=a.layoutManager.RowLayout,t=b.smartLabel,x=d.drawRect,p=d.drawText,r=d.drawHot,n=F.iterator,n=n(this).bf,u,v=b.logic.hcJSON.chart,z=v.highlightParentsOnHover,y,G=F.context,J=F.mapColorManager(v,f.hcJSON.colorRange),K=F.abstractEventRegisterer(e),e=f.chartInstance.jsVars._reflowData;y=F.initConfigurationForlabel({x:5,
y:5},v.parentLabelLineHeight,v);for(f=u=n.next();f.getParent();)f=f.getParent();f!=u?(b.resetButton.show(),b.backButton.show()):(b.resetButton.hide(),b.backButton.hide());t.setStyle({fontSize:(v.labelFontSize||v.baseFontSize)+"px",fontFamily:v.labelFont||v.baseFont,lineHeight:1.2*(v.labelFontSize||v.baseFontSize)+"px"});e.tree=u;b.backToParent=b.backToParent.bind(u);b.resetTree=b.resetTree.bind(u);(function N(a,b){var c,d,e,f,m=0,k,l,w;k={};var q;l={};var n={};d={};if(a&&(c=a.rect={},d=a.textRect=
{},c.width=b.width,c.height=b.height,c.x=b.x,c.y=b.y,d=J(a),f=x(c,d),a.cssConf=d,q=y(a,c),w=q.conf,k.textMargin=w.rectShiftY,d=w.textRect,w=t.getSmartText(w.label,d.width,d.height).text,p(w,d,q.attr,q.highlight),a.plotItem=f,l.virginNode=a,l.plotItem=f,l.toolText=a.getLabel()+v.tooltipSeparationCharacter+a.getValue(),l.rect=c,n.hover=[function(){var a,b,c;c=G.getInstance("hover");b=this.virginNode;a=z&&!b.next?(a=b.getParent())?a:b:this.virginNode;c.set("element",a);c=L(Q(a.cssConf.fill,80),60);a.plotItem.tracker.attr({fill:c})}.bind(l),
function(){var a,b;a=G.getInstance("hover").get("element");b=L(a.cssConf.fill||"#fff",0);a.plotItem.tracker.attr({fill:b})}.bind(l)],n.tooltip=[l.toolText],n.click=[function(){K(this,u)}.bind(l)],r(l,n),e=a.getChildren()))for(k=g(e,function(a,b){var c,d,f=0,g,k,l=[];c=new h({width:a.effectiveRect.width,height:a.effectiveRect.height,x:a.effectiveRect.x,y:a.effectiveRect.y},b.getValue());for(d=e.length;f++!==d;)g=e[f-1],k=c.addNode(g),!1===k?(c=c.getNextLogicalDivision(),c=new h(c,b.getValue()-m),f--):
(m+=parseFloat(g.getValue(),10),l.push(g));return l},k),c=0,f=k.length;c<f;c++)l=k[c],N(l,l.rect)})(u,c)}}};b.prototype=Object.create(c.prototype);b.prototype.constructor=c;b.prototype.order=function(b){var c=a[f];return c.orderNodes.apply(b,[c])};return{init:function(a,b){f=a;d=b},plotOnCanvas:function(a,c){g=new b(a,d);e=g.get();return h},applyShadeFiltering:function(b,c){var d,e;e=a[f].applyShadeFiltering.call(g.getBucket(),b,c);return function(a){d=Array.prototype.slice.call(arguments,0);d.unshift(a);
e.apply(g.getBucket(),d)}},setTreeBase:function(a){return a&&(e=a)}}}();P("renderer.treemap",{drawPlotTreemap:function(){var b=this,h=b.paper,a=b.layers,c=b.definition.data,f=b.logic,g=f.hcJSON.chart,e=f.hcJSON.legend,d=b.toolbar,n=g.animation,m=n&&n.duration||void 0,n=g.algorithm,u=f.hcJSON.legend.enabled,k,f=b.options.chart.metaTreeInf,l=a.tracker,q=a.dataset=a.dataset||h.group("dataset"),C=a.datalabels=a.datalabels||h.group("datalabels").insertAfter(q),D=a.lineHot=a.lineHot||h.group("line-hot",
l),A=a.labelHighlight=a.labelHighlight||h.group("labelhighlight",C),E=a.floatLabel=a.floatLabel||h.group("labelfloat",C).insertAfter(A),p,r=[],z=[],F=[],v=[],a={},G,y,H,C=b.fusionCharts.jsVars._reflowData,I,K,l={hcJSON:{chart:{chartResized:!0,rawAnimationDuration:1E3*x(b.definition.chart.animationduration/2,.5)}}};f.effectiveWidth=b.canvasRight-b.canvasLeft;f.effectiveHeight=b.canvasBottom-b.canvasTop;f.startX=b.canvasLeft;f.startY=b.canvasTop;G=f.effectiveWidth/2;y=f.effectiveHeight/2;b.resetButton=
d.add("homeIcon",function(){e.enabled&&t.rendererRoot.resetLegendSlider();b.resetTree&&b.resetTree(!0)},{tooltip:g.btnResetChartTooltext}).hide();k=b.resetButton.attr("fill");k[2]="rgba(255,255,255,0)";b.resetButton.attr("fill",[k[0],k[1],k[2],k[3]]);k=b.resetButton.attr("stroke");k[1]="rgba(136,136,136)";b.resetButton.attr("stroke",[k[0],k[1]]);b.backButton=d.add("backIcon",function(){e.enabled&&t.rendererRoot.resetLegendSlider();b.backToParent&&b.backToParent(!0)},{tooltip:g.btnBackChartTooltext}).hide();
k=b.backButton.attr("fill");k[2]="rgba(255,255,255,0)";b.backButton.attr("fill",[k[0],k[1],k[2],k[3]]);k=b.backButton.attr("stroke");k[1]="rgba(136,136,136)";b.backButton.attr("stroke",[k[0],k[1]]);a.drawRect=function(a,b){var c,d,e={},f={};for(c in a)d=a[c],0>d&&(a[c]=0,f.visibility="hidden");m||I&&(m=g.rawAnimationDuration)?(M(e,a),e.x=G,e.y=y,e.height=0,e.width=0,p=h.rect(e,q).css(b),p.animate(a,m,"normal")):p=h.rect(a,q).css(b);p.css(f);r.push(p);return p};a.drawText=function(a,b,c,d){var e={},
f=h.text(E),k=h.text(A);M(e,c);delete e.fill;e["stroke-linejoin"]="round";m||I&&(m=g.rawAnimationDuration)?(f.attr({text:a,x:G,y:y,fill:"#000000"}).css(c),f.animate({text:a,x:b.x,y:b.y},m,"normal"),k.attr({text:a,x:G,y:y,stroke:"#ffffff"}).css(e).css(d),k.animate({x:b.x,y:b.y},m,"normal")):(f.attr({text:a,x:b.x,y:b.y,fill:"#000000"}).css(c),k.attr({text:a,x:b.x,y:b.y,stroke:"#ffffff"}).css(e).css(d));z.push(f);F.push(k);return f};a.drawHot=function(a,b){var c;c=a.plotItem;var d=a.rect,e,f,g;for(f in d)g=
d[f],0>g&&(d[f]=0);c=c.tracker=h.rect(D).attr(d).attr({cursor:"pointer",fill:"rgba(255, 255, 255, 0)",stroke:"none"});for(e in b)d=b[e],c[e].apply(c,d);v.push(c);return c};a.removeLayers=function(){var a,b,c,d,e,f;b=Math.max(r.length,z.length,F.length,v.length);for(a=0;a<b;a++)c=r[a],d=z[a],f=v[a],e=F[a],c&&c.remove(),d&&d.remove(),f&&f.remove(),e&&e.remove();r.length=0;z.length=0;v.length=0};(d=C.tree)?(c=C.drawTreeFn,K=!0):(C.algorithmAPI=J.init(n,u),C.drawTreeFn=c=J.plotOnCanvas(c[0]),K=!1);J.setTreeBase(d);
e.enabled&&(H=J.applyShadeFiltering({fill:g.rangeOutBgColor,opacity:.01*g.rangeOutBgAlpha},function(a){this.plotItem&&this.plotItem.attr(a)}),b.setScaleRange=function(a,b){var c={start:a,end:b};K&&H({start:Number.NEGATIVE_INFINITY,end:Number.POSITIVE_INFINITY});H(c)});c.apply(void 0,[b,{width:f.effectiveWidth,height:f.effectiveHeight,x:f.startX,y:f.startY,horizontalPadding:g.horizontalPadding,verticalPadding:g.verticalPadding},a]);g.chartResized&&(I=!0);M(b.logic.chartInstance.jsVars._reflowData,
l,!0)}},P["renderer.root"])}]);
